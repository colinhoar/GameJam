[gd_scene load_steps=31 format=3 uid="uid://blrq3k1y3cjw4"]

[ext_resource type="Texture2D" uid="uid://dku7tnsgf2j84" path="res://SkyComp.png" id="1_2kaws"]
[ext_resource type="Script" path="res://main.gd" id="1_e1sbo"]
[ext_resource type="Script" path="res://Player.gd" id="1_i0ddt"]
[ext_resource type="Texture2D" uid="uid://bcsegc4d64n05" path="res://Ground.png" id="1_kd40a"]
[ext_resource type="Texture2D" uid="uid://c4ws0ownn56hf" path="res://Ground_n.png" id="2_wkryp"]
[ext_resource type="MeshLibrary" uid="uid://deu1wsscc77ai" path="res://Tree1.tres" id="4_6vo6l"]
[ext_resource type="Script" path="res://Flashlight.gd" id="5_2qa2k"]
[ext_resource type="MeshLibrary" uid="uid://t0j5oyopa4iq" path="res://Foliage1.tres" id="5_eqxdq"]
[ext_resource type="MeshLibrary" uid="uid://iennsmqxhdh7" path="res://Scarecrow1.tres" id="6_bgb33"]
[ext_resource type="MeshLibrary" uid="uid://bi0307ev7evx6" path="res://TilledFarmland.tres" id="9_2sy40"]
[ext_resource type="PackedScene" uid="uid://juk51ssarrmo" path="res://House.glb" id="9_fd86p"]
[ext_resource type="MeshLibrary" uid="uid://4sg6q4dgjudf" path="res://BigRock.tres" id="10_tq61f"]
[ext_resource type="MeshLibrary" uid="uid://bub8v2v1tt0oh" path="res://SmallRock.tres" id="11_fv621"]
[ext_resource type="Script" path="res://HousetoInterior.gd" id="11_us05m"]
[ext_resource type="FontFile" uid="uid://cewlryq5xpwj1" path="res://lunchds.ttf" id="15_ls8cn"]
[ext_resource type="PackedScene" uid="uid://d2w0sm11l2vtd" path="res://pause_menu.tscn" id="16_8esn2"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_bwfdg"]
panorama = ExtResource("1_2kaws")

[sub_resource type="Sky" id="Sky_7ksxp"]
sky_material = SubResource("PanoramaSkyMaterial_bwfdg")

[sub_resource type="Environment" id="Environment_neq4i"]
background_mode = 2
sky = SubResource("Sky_7ksxp")
tonemap_mode = 2
glow_enabled = true
fog_enabled = true
fog_light_color = Color(0.0759762, 0.0498935, 0.0369018, 1)
fog_sun_scatter = 1.3
volumetric_fog_enabled = true
volumetric_fog_emission = Color(0.0104495, 0.0079074, 0.00416084, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rgbpm"]
albedo_texture = ExtResource("1_kd40a")
normal_enabled = true
normal_texture = ExtResource("2_wkryp")
uv1_scale = Vector3(50, 50, 50)
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_f2f4i"]
material = SubResource("StandardMaterial3D_rgbpm")
size = Vector2(100, 100)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_mtyho"]
data = PackedVector3Array(10, 0, 10, -10, 0, 10, 10, 0, -10, -10, 0, 10, -10, 0, -10, 10, 0, -10)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_0uu78"]
emission_shape = 3
emission_box_extents = Vector3(10, 0.5, 10)
direction = Vector3(0, -1, 0)
spread = 5.0
initial_velocity_min = 30.0
initial_velocity_max = 30.0
color = Color(0.266667, 0.329412, 0.278431, 0.0862745)

[sub_resource type="Curve" id="Curve_4l8rj"]
max_value = 0.05
_data = [Vector2(0.188235, 0.000549451), 0.0, 0.0, 0, 0, Vector2(0.388235, 0.00714286), 0.0, 0.0, 0, 0, Vector2(0.529412, 0.00274725), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uwmpa"]
transparency = 1
cull_mode = 2
shading_mode = 0
vertex_color_use_as_albedo = true

[sub_resource type="RibbonTrailMesh" id="RibbonTrailMesh_q7c21"]
material = SubResource("StandardMaterial3D_uwmpa")
curve = SubResource("Curve_4l8rj")

[sub_resource type="CapsuleMesh" id="CapsuleMesh_v8c8o"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_566re"]
points = PackedVector3Array(-0.125207, -0.532801, -0.480507, 0.0227831, 0.47607, 0.498884, 0.169713, 0.559144, 0.464172, 0.231051, -0.803591, 0.320455, 0.40741, 0.651043, -0.243523, -0.482789, 0.594843, 0.0822132, -0.362868, -0.682312, 0.289697, 0.469044, -0.654529, -0.0662713, -0.127444, 0.842701, -0.338103, -0.393435, -0.683942, -0.244717, 0.438255, 0.623309, 0.200849, 0.0841477, 0.977454, 0.114795, -0.0682023, -0.976458, -0.12927, 0.20055, -0.563129, -0.451454, -0.185527, 0.595453, -0.453475, -0.273363, 0.592268, 0.407754, -0.00693649, -0.476823, 0.49966, 0.375821, -0.588614, 0.316955, 0.111579, 0.563059, -0.481177, -0.41725, 0.527866, -0.270497, -0.484546, -0.596972, -0.0665097, -0.279747, 0.908561, 0.0533361, -0.250197, -0.880712, 0.205319, 0.263647, -0.902771, -0.127394, 0.293368, 0.871526, -0.157196, 0.373412, -0.526319, -0.328246, 0.499663, 0.476641, -0.00688856, 0.0531056, 0.875001, 0.324703, -0.154543, -0.590854, 0.465879, -0.0972799, -0.782358, -0.398188, -0.387649, -0.498171, 0.31565, -0.30068, -0.587995, -0.388901)

[sub_resource type="BoxShape3D" id="BoxShape3D_pf3bj"]

[sub_resource type="BoxShape3D" id="BoxShape3D_sskwy"]
size = Vector3(2, 3, 1)

[node name="Node3D" type="Node3D"]
script = ExtResource("1_e1sbo")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_neq4i")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 43, -30)
light_color = Color(0.0116996, 0.0039301, 0.00154139, 1)
light_energy = 0.515
shadow_enabled = true
sky_mode = 1

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_f2f4i")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_mtyho")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.02164, 1.11466, -0.418508)
script = ExtResource("1_i0ddt")

[node name="Rain" type="GPUParticles3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 11.8437, 0)
amount = 1000
visibility_aabb = AABB(-10, -20, -10, 20, 20, 20)
process_material = SubResource("ParticleProcessMaterial_0uu78")
draw_pass_1 = SubResource("RibbonTrailMesh_q7c21")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_v8c8o")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("ConvexPolygonShape3D_566re")

[node name="Neck" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)

[node name="Camera3D" type="Camera3D" parent="Player/Neck"]

[node name="SpotLight3D" type="SpotLight3D" parent="Player/Neck/Camera3D"]
transform = Transform3D(0.981746, 0.00788174, 0.190032, 0.0057562, 0.997452, -0.0711082, -0.190108, 0.070904, 0.9792, 0.908435, -0.379444, 0.464317)
visible = false
light_color = Color(0.936275, 0.694578, 0.222146, 1)
spot_range = 6.574
spot_attenuation = 0.965936
spot_angle = 35.91
script = ExtResource("5_2qa2k")

[node name="Trees" type="GridMap" parent="."]
mesh_library = ExtResource("4_6vo6l")
cell_size = Vector3(1, 2, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(65524, 65526, 0, 65529, 65523, 0, 65535, 65518, 0, 65526, 65518, 0, 65519, 65521, 0, 65516, 65535, 0, 65519, 5, 0, 65522, 0, 0, 65511, 4, 0, 65517, 65528, 0, 65521, 65531, 0, 65528, 65527, 0, 65533, 65513, 0, 20, 65525, 0, 17, 65521, 0, 22, 65521, 0, 26, 65527, 0, 29, 65523, 0, 31, 65527, 0, 29, 65531, 0, 31, 0, 0, 34, 65532, 0, 36, 2, 0, 32, 7, 0, 38, 9, 0, 45, 65493, 0, 45, 65498, 0, 39, 65492, 0, 37, 65498, 0, 31, 65495, 0, 22, 65491, 0, 20, 65496, 0, 14, 65494, 0, 11, 65491, 0, 16, 65489, 0, 65533, 65495, 0, 33, 65504, 0, 42, 65507, 0, 45, 65523, 0, 6, 65487, 0, 65535, 65487, 0, 65528, 65488, 0, 65522, 65490, 0, 3, 65491, 0, 65528, 65492, 0, 65521, 65495, 0, 65522, 65495, 0, 3, 65496, 0, 8, 65495, 0, 14, 65497, 0, 19, 65500, 0, 10, 65502, 0, 2, 65501, 0, 65531, 65501, 0, 65527, 65498, 0, 65526, 24, 0, 65533, 24, 0, 65530, 29, 0, 2, 28, 0, 12, 30, 0, 19, 32, 0, 24, 30, 0, 19, 38, 0, 13, 36, 0, 7, 34, 0, 65534, 35, 0, 4, 40, 0, 65529, 39, 0, 65525, 34, 0, 65520, 28, 0, 65518, 32, 0, 65521, 38, 0, 65516, 41, 0, 65511, 35, 0, 65512, 27, 0, 65520, 22, 0, 65489, 9, 0, 65489, 15, 0, 65489, 21, 0, 65489, 27, 0, 65491, 37, 0, 65496, 37, 0, 65494, 30, 0, 65494, 29, 0, 65496, 16, 0, 65495, 7, 0, 65500, 1, 0, 65492, 3, 0, 65503, 44, 0, 29, 39, 0, 37, 43, 0, 37, 37, 0, 43, 39, 0, 43, 34, 0, 47, 28, 0, 41, 27, 0, 45, 22, 0, 46, 15, 0, 40, 18, 0, 65510, 65487, 0, 65502, 65487, 0, 65505, 65494, 0, 65497, 65495, 0, 65502, 65499, 0, 65495, 65490, 0, 65511, 65493, 0, 65493, 65505, 0, 65490, 65498, 0, 65497, 65501, 0, 65500, 65511, 0, 65492, 65512, 0, 65494, 65517, 0, 65491, 65526, 0)
}

[node name="Foliage" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.310189, 0)
mesh_library = ExtResource("5_eqxdq")
cell_size = Vector3(0.25, 2, 0.25)
cell_center_y = false
data = {
"cells": PackedInt32Array(10, 33, 1245184, 65504, 74, 1245184, 65485, 40, 1245184, 65524, 77, 1245184, 54, 65534, 1245184, 18, 45, 1245184, 17, 45, 1245184, 36, 65472, 1245184, 0, 65501, 1245184, 24, 65439, 1245184, 49, 65447, 1245184, 50, 65447, 1245184, 89, 65458, 1245184, 99, 65427, 1245184, 70, 65429, 1245184, 21, 65457, 1245184, 1, 65428, 1245184, 37, 65430, 1245184, 65511, 65430, 1245184, 65514, 65415, 1245184, 65488, 65447, 1245184, 65489, 65420, 1245184, 65413, 9, 1245184, 65422, 1, 1245184, 65411, 65529, 1245184, 65401, 27, 1245184, 65411, 35, 1245184, 65428, 45, 1245184, 65402, 53, 1245184, 65436, 65518, 1245184, 65400, 65514, 1245184, 65409, 163, 1245184, 65418, 137, 1245184, 65397, 145, 1245184, 65405, 133, 1245184, 65388, 125, 1245184, 65394, 106, 1245184, 65372, 97, 1245184, 65387, 42, 1245184, 65401, 74, 1245184, 65405, 104, 1245184, 65423, 104, 1245184, 65390, 85, 1245184, 128, 94, 1245184, 117, 76, 1245184, 125, 117, 1245184, 110, 103, 1245184, 179, 24, 1245184, 180, 23, 1245184, 186, 65535, 1245184, 170, 65524, 1245184, 159, 65491, 1245184, 170, 65458, 1245184, 136, 65462, 1245184, 169, 65439, 1245184, 121, 65445, 1245184, 150, 65434, 1245184, 62, 185, 1245184, 61, 185, 1245184, 26, 194, 1245184, 25, 194, 1245184, 65519, 196, 1245184, 65469, 195, 1245184, 65435, 194, 1245184, 65364, 191, 1245184, 142, 65344, 1245184, 115, 65346, 1245184, 184, 65408, 1245184, 65420, 65421, 1245184, 65406, 65463, 1245184, 65444, 65444, 1245184, 65441, 65401, 1245184, 65441, 65400, 1245184, 65459, 65413, 1245184, 65463, 65366, 1245184, 65419, 65399, 1245184, 65388, 65416, 1245184, 65418, 65438, 1245184, 30, 65513, 1245184, 65447, 59, 1245184, 65430, 80, 1245184, 65455, 79, 1245184, 93, 192, 1245184, 114, 188, 1245184, 84, 181, 1245184, 101, 146, 1245184, 122, 132, 1245184, 137, 134, 1245184, 142, 115, 1245184, 181, 38, 1245184)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Scarecrow" type="GridMap" parent="."]
transform = Transform3D(-0.037557, 0, 0.145222, 0, 0.15, 0, -0.145222, 0, -0.037557, 0, 0, 0)
mesh_library = ExtResource("6_bgb33")
cell_size = Vector3(0.5, 2, 0.5)
cell_center_y = false
data = {
"cells": PackedInt32Array(-297, 147, 0)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="Farmland" type="GridMap" parent="."]
transform = Transform3D(5, 0, 0, 0, 3, 0, 0, 0, 5, 0, -3, 0)
mesh_library = ExtResource("9_2sy40")
cell_size = Vector3(0.5, 2, 0.5)
data = {
"cells": PackedInt32Array(8, 5, 0, 4, 5, 0, 8, 9, 0, 4, 9, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="BigRock" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh_library = ExtResource("10_tq61f")
cell_size = Vector3(0.5, 2, 0.5)
data = {
"cells": PackedInt32Array(7, 42, 917504, 5, 43, 0, 58, 20, 917504, 57, 22, 0, 60, 52, 1441792)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="SmallRock" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh_library = ExtResource("11_fv621")
data = {
"cells": PackedInt32Array(1, 8, 393216, 1, 7, 655360, 9, 3, 917504, 4, 3, 1179648, 13, 6, 1179648)
}

[node name="PlantLeaf" type="GridMap" parent="."]

[node name="Dand" type="GridMap" parent="."]

[node name="House" parent="." instance=ExtResource("9_fd86p")]
transform = Transform3D(-0.688342, 0, -0.725386, 0, 1, 0, 0.725386, 0, -0.688342, 22.0905, 0, -1.3394)

[node name="StaticBody3D" type="StaticBody3D" parent="House"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="House/StaticBody3D"]
transform = Transform3D(9.8, 0, 0, 0, 9.2, 0, 0, 0, 9, 0, 0, 0)
shape = SubResource("BoxShape3D_pf3bj")

[node name="HousetoInterior" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.6306, 0, 2.19812)
script = ExtResource("11_us05m")

[node name="CollisionShape3D" type="CollisionShape3D" parent="HousetoInterior"]
transform = Transform3D(0.698015, 0, -0.716083, 0, 1, 0, 0.716083, 0, 0.698015, -0.407238, 1.51514, 0.258333)
shape = SubResource("BoxShape3D_sskwy")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 14.4311, 0)
visible = false
omni_range = 4096.0
omni_attenuation = 0.318641

[node name="Prompt" type="Label" parent="."]
visible = false
anchors_preset = 14
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_top = 30.0
offset_bottom = 123.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 2
theme_override_fonts/font = ExtResource("15_ls8cn")
theme_override_font_sizes/font_size = 16
text = "Enter House [E]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HouseOutsideMarker" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.9328, 0, 2.71674)

[node name="PauseMenu" parent="." instance=ExtResource("16_8esn2")]
visible = false

[connection signal="body_entered" from="HousetoInterior" to="HousetoInterior" method="_on_body_entered"]
[connection signal="body_exited" from="HousetoInterior" to="HousetoInterior" method="_on_body_exited"]
